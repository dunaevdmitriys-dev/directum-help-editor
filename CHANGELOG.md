# Changelog

## [1.4.0] — 2026-02-11

### Новое

- **Система шаблонов** — выбор между современным и legacy (Help & Manual) шаблоном при создании проекта
- **Смена шаблона** — кнопка «Шаблон» в панели инструментов для изменения шаблона существующего проекта
- **Публикация** — кнопка «Публикация» для копирования собранного проекта в целевую папку (IIS/Directum RX)
- **Конфигурация проекта** — файл `.helpeditor.json` с настройками шаблона, папки сборки и публикации

### Дизайн шаблона (Modern)

- **`index.html`** — полностью переработанная оболочка:
  - Тёмно-синий header bar с логотипом Directum RX и встроенным поиском
  - Боковая панель (sidebar) с ресайзером и кнопкой сворачивания
  - Мобильное гамбургер-меню (☰) с overlay и slide-in sidebar
  - Клавиатурное сокращение `Ctrl+K` для быстрого перехода к поиску
  - Автоматическая синхронизация URL и заголовка страницы
- **`default.css`** — единая дизайн-система:
  - CSS custom properties (variables) для всех цветов, отступов, радиусов
  - Палитра Directum RX: navy `#13406d`, orange `#f57c00`, semantic colors
  - Типографика с чёткой иерархией (h1–h6)
  - Переопределение стилей Help & Manual (`#idheader`)
  - Таблицы с uppercase-заголовками, зебра-полоской и hover-эффектом
  - Блоки примечаний: Примечание (синий), Внимание (жёлтый), Совет (зелёный)
  - Код: inline `code` и `pre` блоки с моноширинным шрифтом
  - Скриншоты с тонкой рамкой и тенью
  - Адаптивная вёрстка (desktop / mobile / print)
- **`hmcontent.htm`** — переработанное дерево разделов:
  - CSS variables для цветов
  - Active state с `border-left` акцентом
  - Анимация chevron при раскрытии/сворачивании
  - Hover-эффекты с плавными переходами
- **`hmftsearch.htm`** — обновлённая страница поиска:
  - Согласованная палитра с основной дизайн-системой
  - Карточки результатов с hover-эффектом
  - Navy-спиннер загрузки
  - Мобильная адаптация
- **`custom.css`** — обновлён для использования CSS variables с fallback-значениями
- **`scrollbars.css`** — тонкие скроллбары с прозрачным фоном
- **`page.htm`** — добавлены `viewport` meta и `lang="ru"`

### API

- `GET /api/project/templates` — список доступных шаблонов
- `POST /api/project/config` — чтение конфигурации проекта
- `POST /api/project/config/update` — обновление конфигурации (шаблон, папка сборки, публикации)
- `POST /api/project/publish` — публикация проекта в целевую папку

---

## [1.3.0]

### Новое

- Полнотекстовый поиск с MiniSearch (русский стемминг, нечёткий поиск)
- Генерация search_index.js при сборке
- Клиентский поиск (search-client.js) с подсказками и пагинацией

## [1.2.0]

### Новое

- Веб-режим (Express-сервер) как альтернатива Electron
- CLI запуск через `npx help-editor`
- Cookie-авторизация для production

## [1.1.0]

### Новое

- Генерация helpCodes.xml/js для интеграции с Directum RX
- Генерация toc.js и hmcontent.htm
- Автосохранение при переключении разделов

## [1.0.0]

### Первый релиз

- WYSIWYG-редактор на базе TinyMCE 6
- Дерево разделов с drag & drop
- Создание, переименование, перемещение, удаление разделов
- Загрузка изображений
- Electron-приложение
