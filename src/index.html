<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net; img-src 'self' data: file: blob: http://localhost:* https://localhost:*; media-src 'self' file: http://localhost:* https://localhost:*; frame-src 'self' blob:; connect-src 'self' https://cdn.jsdelivr.net http://localhost:* https://localhost:*;">
  <title>Help Editor</title>
  <link rel="stylesheet" href="styles/main.css">
  <!-- TinyMCE (–ª–æ–∫–∞–ª—å–Ω—ã–π —Å fallback –Ω–∞ CDN) -->
  <script src="../assets/tinymce/tinymce.min.js" onerror="this.onerror=null; this.src='https://cdn.jsdelivr.net/npm/tinymce@6.8.2/tinymce.min.js';"></script>
</head>
<body>
  <div id="app">
    <!-- –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="welcome-screen" class="welcome-screen">
      <div class="welcome-content">
        <div class="welcome-logo">
          <svg width="80" height="80" viewBox="0 0 24 24" fill="white">
            <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20M9,13V19H7V13H9M15,15V19H17V15H15M11,11V19H13V11H11Z"/>
          </svg>
        </div>
        <h1>Help Editor</h1>
        <p>–†–µ–¥–∞–∫—Ç–æ—Ä —Å–ø—Ä–∞–≤–æ—á–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</p>
        <div class="welcome-buttons">
          <button id="btn-create-project" class="btn btn-primary btn-large">
            <span class="icon">&#10133;</span>
            –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
          </button>
          <button id="btn-open-folder" class="btn btn-secondary btn-large">
            <span class="icon">&#128193;</span>
            –û—Ç–∫—Ä—ã—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π
          </button>
        </div>
        <p class="hint">–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç —Å–ø—Ä–∞–≤–∫–∏ –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π</p>
      </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ -->
    <div id="editor-screen" class="editor-screen hidden">
      <!-- Toolbar -->
      <div class="toolbar">
        <button id="btn-save" class="toolbar-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å (Ctrl+S)">&#128190; –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button id="btn-save-all" class="toolbar-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—ë">&#128190; –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å—ë</button>
        <span class="toolbar-separator"></span>
        <button id="btn-build" class="toolbar-btn toolbar-btn-build" title="–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É–∂–µ–±–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)">&#9881; –°–±–æ—Ä–∫–∞</button>
        <button id="btn-publish" class="toolbar-btn" title="–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É –≤ –≥–ª–∞–≤–Ω—É—é –ø–∞–ø–∫—É">&#128640; –ü—É–±–ª–∏–∫–∞—Ü–∏—è</button>
        <button id="btn-change-template" class="toolbar-btn" title="–°–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω —Å–ø—Ä–∞–≤–∫–∏">&#127912; –®–∞–±–ª–æ–Ω</button>
        <span class="toolbar-separator"></span>
        <button id="btn-add-section" class="toolbar-btn" title="–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª">&#10133; –†–∞–∑–¥–µ–ª</button>
        <span class="toolbar-separator"></span>
        <span id="project-name" class="project-name"></span>
      </div>

      <div class="main-container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å: –¥–µ—Ä–µ–≤–æ —Ä–∞–∑–¥–µ–ª–æ–≤ -->
        <div class="sidebar" id="sidebar">
          <div class="sidebar-header">
            <div class="search-controls">
              <input type="text" id="search-input" class="search-input" placeholder="–ü–æ–∏—Å–∫...">
              <div class="search-mode-toggle">
                <button id="btn-search-title" class="search-mode-btn active" title="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º —Ä–∞–∑–¥–µ–ª–æ–≤">–ù–∞–∑–≤–∞–Ω–∏—è</button>
                <button id="btn-search-content" class="search-mode-btn" title="–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</button>
              </div>
            </div>
          </div>

          <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ -->
          <div id="search-results-panel" class="search-results-panel hidden">
            <div class="search-results-header">
              <span id="search-results-count">–ù–∞–π–¥–µ–Ω–æ: 0</span>
              <button id="btn-close-search-results" class="btn-close-search" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
            </div>
            <div id="search-results-list" class="search-results-list"></div>
          </div>

          <div id="tree-container" class="tree-container"></div>
        </div>

        <!-- Resizer -->
        <div class="resizer" id="resizer"></div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å: —Ä–µ–¥–∞–∫—Ç–æ—Ä -->
        <div class="editor-panel">
          <div class="editor-header">
            <span id="current-section-title" class="section-title">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª</span>
            <div class="view-switcher">
              <button id="btn-view-editor" class="btn-view active">–†–µ–¥–∞–∫—Ç–æ—Ä</button>
              <button id="btn-view-code" class="btn-view">HTML</button>
              <button id="btn-view-preview" class="btn-view">–ü—Ä–æ—Å–º–æ—Ç—Ä</button>
            </div>
          </div>

          <div id="editor-container" class="editor-container">
            <div id="editor-placeholder" class="editor-placeholder">
              <p>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –≤ –¥–µ—Ä–µ–≤–µ —Å–ª–µ–≤–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
            </div>
            <div id="editor-wrapper" class="editor-wrapper hidden">
              <textarea id="editor-content"></textarea>
            </div>
            <div id="code-editor" class="code-editor hidden">
              <textarea id="code-content" class="code-textarea"></textarea>
            </div>
            <div id="preview-container" class="preview-container hidden">
              <iframe id="preview-frame" class="preview-frame" sandbox="allow-same-origin allow-scripts allow-popups"></iframe>
            </div>
          </div>

          <!-- –ü–∞–Ω–µ–ª—å —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –≤–∏–¥–µ–æ -->
          <div id="video-editor-panel" class="video-editor-panel hidden">
            <div class="video-editor-header">
              <div class="video-editor-title">
                <button id="btn-toggle-video-panel" class="btn-toggle-panel" title="–°–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å">‚ñ≤</button>
                <h3>–†–µ–¥–∞–∫—Ç–æ—Ä —Ç–∞–π–º–∫–æ–¥–æ–≤</h3>
              </div>
              <div class="video-editor-selector">
                <label>–í–∏–¥–µ–æ:</label>
                <select id="video-selector" class="video-selector"></select>
              </div>
            </div>
            <div id="video-editor-content" class="video-editor-content">
              <div id="video-info" class="video-info"></div>
              <div class="timestamps-section">
                <div class="timestamps-header">
                  <span>–ú–µ—Ç–∫–∏ –≤—Ä–µ–º–µ–Ω–∏</span>
                  <button id="btn-add-timestamp" class="btn btn-small btn-add">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <div id="timestamps-list" class="timestamps-list"></div>
              </div>
              <div class="video-editor-footer">
                <button id="btn-save-video-data" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–π–º–∫–æ–¥—ã</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- –°—Ç–∞—Ç—É—Å–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ -->
      <div class="status-bar">
        <span id="status-text">–ì–æ—Ç–æ–≤–æ</span>
        <span id="status-file"></span>
      </div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é -->
    <div id="context-menu" class="context-menu hidden">
      <div class="context-menu-item" data-action="section-card">–ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–∑–¥–µ–ª–∞</div>
      <div class="context-menu-separator"></div>
      <div class="context-menu-item" data-action="add-child">–î–æ–±–∞–≤–∏—Ç—å –¥–æ—á–µ—Ä–Ω–∏–π —Ä–∞–∑–¥–µ–ª</div>
      <div class="context-menu-item" data-action="add-after">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª –ø–æ—Å–ª–µ</div>
      <div class="context-menu-item" data-action="add-from-file">–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª –∏–∑ —Ñ–∞–π–ª–∞...</div>
      <div class="context-menu-separator"></div>
      <div class="context-menu-item" data-action="rename">–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å</div>
      <div class="context-menu-separator"></div>
      <div class="context-menu-item" data-action="add-images">–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...</div>
      <div class="context-menu-item" data-action="manage-css">–§–∞–π–ª—ã —Å—Ç–∏–ª–µ–π (CSS)...</div>
      <div class="context-menu-separator"></div>
      <div class="context-menu-item danger" data-action="delete">–£–¥–∞–ª–∏—Ç—å</div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü -->
    <div id="orphan-context-menu" class="context-menu hidden">
      <div class="context-menu-item" data-action="orphan-card">–ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã</div>
      <div class="context-menu-separator"></div>
      <div class="context-menu-item" data-action="add-to-root">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–µ–Ω—å –¥–µ—Ä–µ–≤–∞</div>
      <div class="context-menu-separator"></div>
      <div class="context-menu-item danger" data-action="delete-file">–£–¥–∞–ª–∏—Ç—å —Ñ–∞–π–ª</div>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
    <div id="image-context-menu" class="context-menu hidden">
      <div class="context-menu-item danger" data-action="delete-image">–£–¥–∞–ª–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->

    <!-- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ -->
    <div id="modal-add-section" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>–î–æ–±–∞–≤–∏—Ç—å —Ä–∞–∑–¥–µ–ª</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="tabs">
            <button class="tab-btn active" data-tab="section-new">–ù–æ–≤—ã–π —Ä–∞–∑–¥–µ–ª</button>
            <button class="tab-btn" data-tab="section-from-file">–ò–∑ —Ñ–∞–π–ª–∞</button>
          </div>

          <div id="section-new" class="tab-content active">
            <div class="form-group">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞:</label>
              <input type="text" id="new-section-title" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ">
            </div>
            <div class="form-group">
              <label>–ò–º—è —Ñ–∞–π–ª–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
              <input type="text" id="new-section-filename" class="form-input" placeholder="–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è">
            </div>
          </div>

          <div id="section-from-file" class="tab-content hidden">
            <div class="form-group">
              <label>HTML —Ñ–∞–π–ª:</label>
              <div class="input-with-button">
                <input type="text" id="section-file-path" class="form-input" readonly placeholder="–í—ã–±–µ—Ä–∏—Ç–µ HTML —Ñ–∞–π–ª...">
                <button id="btn-browse-html" class="btn">–û–±–∑–æ—Ä...</button>
              </div>
            </div>
            <div class="form-group">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞:</label>
              <input type="text" id="section-file-title" class="form-input" placeholder="–ë—É–¥–µ—Ç –∏–∑–≤–ª–µ—á–µ–Ω–æ –∏–∑ —Ñ–∞–π–ª–∞">
            </div>
          </div>

          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="add-as-child"> –î–æ–±–∞–≤–∏—Ç—å –∫–∞–∫ –¥–æ—á–µ—Ä–Ω–∏–π —Ä–∞–∑–¥–µ–ª
            </label>
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-add-section-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-add-section-ok" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ -->
    <div id="modal-rename" class="modal hidden">
      <div class="modal-content modal-small">
        <div class="modal-header">
          <h3>–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:</label>
            <input type="text" id="rename-title" class="form-input">
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-rename-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-rename-ok" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –í—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
    <div id="modal-image" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>–í—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>–§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
            <div class="input-with-button">
              <input type="text" id="image-path" class="form-input" readonly placeholder="–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª...">
              <button id="btn-select-image" class="btn">–û–±–∑–æ—Ä...</button>
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="image-width">–®–∏—Ä–∏–Ω–∞:</label>
              <input type="number" id="image-width" class="form-input" placeholder="–∞–≤—Ç–æ">
            </div>
            <div class="form-group">
              <label for="image-height">–í—ã—Å–æ—Ç–∞:</label>
              <input type="number" id="image-height" class="form-input" placeholder="–∞–≤—Ç–æ">
            </div>
          </div>
          <div class="form-group">
            <label for="image-alt">–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
            <input type="text" id="image-alt" class="form-input" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ">
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-image-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-image-ok" class="btn btn-primary">–í—Å—Ç–∞–≤–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –í—Å—Ç–∞–≤–∫–∞ —Å—Å—ã–ª–∫–∏ -->
    <div id="modal-link" class="modal hidden">
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h3>–í—Å—Ç–∞–≤–∫–∞ —Å—Å—ã–ª–∫–∏</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="tabs">
            <button class="tab-btn active" data-tab="link-internal">–†–∞–∑–¥–µ–ª —Å–ø—Ä–∞–≤–∫–∏</button>
            <button class="tab-btn" data-tab="link-external">–í–Ω–µ—à–Ω—è—è —Å—Å—ã–ª–∫–∞</button>
          </div>
          <div id="link-internal" class="tab-content active">
            <div class="form-group">
              <label>–ü–æ–∏—Å–∫ —Ä–∞–∑–¥–µ–ª–∞:</label>
              <input type="text" id="link-search" class="form-input" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ...">
            </div>
            <div class="form-group">
              <label>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:</label>
              <div id="link-tree-container" class="link-tree-container"></div>
            </div>
          </div>
          <div id="link-external" class="tab-content hidden">
            <div class="form-group">
              <label>URL:</label>
              <input type="text" id="link-url" class="form-input" placeholder="https://...">
            </div>
          </div>
          <div class="form-group">
            <label>–¢–µ–∫—Å—Ç —Å—Å—ã–ª–∫–∏:</label>
            <input type="text" id="link-text" class="form-input">
          </div>
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="link-new-window"> –û—Ç–∫—Ä—ã–≤–∞—Ç—å –≤ –Ω–æ–≤–æ–º –æ–∫–Ω–µ
            </label>
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-link-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-link-ok" class="btn btn-primary">–í—Å—Ç–∞–≤–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –í—Å—Ç–∞–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã -->
    <div id="modal-table" class="modal hidden">
      <div class="modal-content modal-small">
        <div class="modal-header">
          <h3>–í—Å—Ç–∞–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-row">
            <div class="form-group">
              <label>–°—Ç—Ä–æ–∫:</label>
              <input type="number" id="table-rows" class="form-input" value="3" min="1">
            </div>
            <div class="form-group">
              <label>–°—Ç–æ–ª–±—Ü–æ–≤:</label>
              <input type="number" id="table-cols" class="form-input" value="3" min="1">
            </div>
          </div>
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="table-header" checked> –ó–∞–≥–æ–ª–æ–≤–æ–∫
            </label>
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-table-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-table-ok" class="btn btn-primary">–í—Å—Ç–∞–≤–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –í—Å—Ç–∞–≤–∫–∞ –≤–∏–¥–µ–æ -->
    <div id="modal-video" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>–í—Å—Ç–∞–≤–∫–∞ –≤–∏–¥–µ–æ</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="tabs">
            <button class="tab-btn active" data-tab="video-file">–õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª</button>
            <button class="tab-btn" data-tab="video-embed">YouTube / Vimeo</button>
          </div>

          <div id="video-file" class="tab-content active">
            <div class="form-group">
              <label>–í–∏–¥–µ–æ—Ñ–∞–π–ª:</label>
              <div class="input-with-button">
                <input type="text" id="video-path" class="form-input" readonly placeholder="–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª...">
                <button id="btn-select-video" class="btn">–û–±–∑–æ—Ä...</button>
              </div>
            </div>
          </div>

          <div id="video-embed" class="tab-content hidden">
            <div class="form-group">
              <label>URL –≤–∏–¥–µ–æ:</label>
              <input type="text" id="video-url" class="form-input" placeholder="https://www.youtube.com/watch?v=...">
              <small class="form-hint">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è YouTube –∏ Vimeo</small>
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label>–®–∏—Ä–∏–Ω–∞:</label>
              <input type="number" id="video-width" class="form-input" value="640">
            </div>
            <div class="form-group">
              <label>–í—ã—Å–æ—Ç–∞:</label>
              <input type="number" id="video-height" class="form-input" value="360">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-video-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-video-ok" class="btn btn-primary">–í—Å—Ç–∞–≤–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ CSS —Ñ–∞–π–ª–∞–º–∏ —Ä–∞–∑–¥–µ–ª–∞ -->
    <div id="modal-css" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>–§–∞–π–ª—ã —Å—Ç–∏–ª–µ–π (CSS)</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>–¢–µ–∫—É—â–∏–µ CSS —Ñ–∞–π–ª—ã —Ä–∞–∑–¥–µ–ª–∞:</label>
            <div id="css-files-list" class="css-files-list"></div>
          </div>
          <div class="form-group">
            <label>–î–æ–±–∞–≤–∏—Ç—å CSS —Ñ–∞–π–ª:</label>
            <div class="input-with-button">
              <select id="css-file-select" class="form-input">
                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞...</option>
              </select>
              <button id="btn-add-css-from-project" class="btn">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
          </div>
          <div class="form-group">
            <div class="input-with-button">
              <input type="text" id="css-new-file" class="form-input" readonly placeholder="–ò–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –≤–Ω–µ—à–Ω–∏–π —Ñ–∞–π–ª...">
              <button id="btn-select-css-file" class="btn">–û–±–∑–æ—Ä...</button>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-css-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-css-ok" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–∑–¥–µ–ª–∞ -->
    <div id="modal-section-card" class="modal hidden">
      <div class="modal-content modal-large">
        <div class="modal-header">
          <h3 id="section-card-header">–ö–∞—Ä—Ç–æ—á–∫–∞ —Ä–∞–∑–¥–µ–ª–∞</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <!-- –ù–∞–∑–≤–∞–Ω–∏–µ -->
          <div class="form-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞:</label>
            <input type="text" id="section-card-title" class="form-input">
          </div>
          <!-- –§–∞–π–ª -->
          <div class="form-group">
            <label>–§–∞–π–ª:</label>
            <div class="section-card-filename" id="section-card-filename"></div>
          </div>
          <!-- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–π –∫–æ–¥ -->
          <div class="form-group">
            <label>–ö–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–π —Å–ø—Ä–∞–≤–∫–∏:</label>
            <div class="context-code-row">
              <code id="section-card-context-code" class="context-code"></code>
              <button id="btn-copy-context-code" class="btn btn-small" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
            <div class="form-hint">–≠—Ç–æ—Ç –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–∑–æ–≤–∞ —Å–ø—Ä–∞–≤–∫–∏ –∏–∑ Directum RX (F1)</div>
          </div>
          <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è -->
          <div class="form-group">
            <label>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
            <div id="section-card-images" class="section-card-list"></div>
            <button id="btn-card-add-images" class="btn btn-small">–î–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è...</button>
          </div>
          <!-- CSS —Ñ–∞–π–ª—ã -->
          <div class="form-group">
            <label>–§–∞–π–ª—ã —Å—Ç–∏–ª–µ–π (CSS):</label>
            <div id="section-card-css" class="section-card-list"></div>
            <div class="input-with-button">
              <select id="card-css-select" class="form-input">
                <option value="">–ò–∑ –ø—Ä–æ–µ–∫—Ç–∞...</option>
              </select>
              <button id="btn-card-add-css" class="btn btn-small">–î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
            <div class="input-with-button" style="margin-top:4px">
              <input type="text" id="card-css-external" class="form-input" readonly placeholder="–í–Ω–µ—à–Ω–∏–π CSS...">
              <button id="btn-card-browse-css" class="btn btn-small">–û–±–∑–æ—Ä...</button>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-card-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-card-ok" class="btn btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ -->
    <div id="modal-create-project" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç —Å–ø—Ä–∞–≤–∫–∏</h3>
          <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏:</label>
            <input type="text" id="project-title" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–ø—Ä–∞–≤–∫–∞ Directum RX">
          </div>
          <div class="form-group">
            <label>–í–µ—Ä—Å–∏—è (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
            <input type="text" id="project-version" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: 25.2">
          </div>
          <div class="form-group">
            <label>–ù–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞:</label>
            <input type="text" id="first-section-title" class="form-input" value="–í–≤–µ–¥–µ–Ω–∏–µ" placeholder="–í–≤–µ–¥–µ–Ω–∏–µ">
          </div>
          <div class="form-group">
            <label>–®–∞–±–ª–æ–Ω —Å–ø—Ä–∞–≤–∫–∏:</label>
            <select id="project-template" class="form-input">
              <option value="modern">–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π (–Ω–æ–≤–∞—è –æ–±–æ–ª–æ—á–∫–∞, MiniSearch)</option>
              <option value="legacy">Help &amp; Manual (Legacy)</option>
            </select>
            <small class="form-hint" id="project-template-hint"></small>
          </div>
          <div class="form-group">
            <label>–ü–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:</label>
            <div class="input-with-button">
              <input type="text" id="project-folder-path" class="form-input" readonly placeholder="–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞–ø–∫—É...">
              <button id="btn-select-project-folder" class="btn">–û–±–∑–æ—Ä...</button>
            </div>
            <small class="form-hint">–í—ã–±–µ—Ä–∏—Ç–µ –ø—É—Å—Ç—É—é –ø–∞–ø–∫—É –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é</small>
          </div>
        </div>
        <div class="modal-footer">
          <button id="btn-create-project-cancel" class="btn">–û—Ç–º–µ–Ω–∞</button>
          <button id="btn-create-project-ok" class="btn btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Å–±–æ—Ä–∫–∏ -->
    <div id="modal-build-progress" class="modal hidden">
      <div class="modal-content modal-small">
        <div class="modal-header">
          <h3>–°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞</h3>
        </div>
        <div class="modal-body" style="text-align: center; padding: 30px;">
          <div class="build-spinner"></div>
          <p id="build-status" style="margin-top: 15px; color: #666;">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞...</p>
        </div>
      </div>
    </div>

  </div>

  <!-- –°–∫—Ä–∏–ø—Ç—ã - –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ -->
  <!-- FileService (–∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è –¥–ª—è Electron/Web) -->
  <script src="js/services/file-service.js"></script>

  <!-- Core -->
  <script src="js/core/state.js"></script>
  <script src="js/core/events.js"></script>

  <!-- Modules (–ø–æ—Ä—è–¥–æ–∫ –≤–∞–∂–µ–Ω –∏–∑-–∑–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π) -->
  <script src="js/modules/toc-parser.js"></script>
  <script src="js/modules/generators.js"></script>
  <script src="js/modules/orphan-detector.js"></script>
  <script src="js/modules/status-bar.js"></script>
  <script src="js/modules/view-switcher.js"></script>
  <script src="js/modules/preview.js"></script>
  <script src="js/modules/code-editor.js"></script>
  <script src="js/modules/editor.js"></script>
  <script src="js/modules/tree-view.js"></script>
  <script src="js/modules/context-menus.js"></script>
  <script src="js/modules/dialogs.js"></script>
  <script src="js/modules/video-editor.js"></script>

  <!-- FlexSearch –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ -->
  <script src="../assets/flexsearch/flexsearch.bundle.min.js"></script>
  <script src="js/modules/search.js"></script>

  <!-- Main App (–¥–æ–ª–∂–µ–Ω –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º) -->
  <script src="js/modules/app.js"></script>
</body>
</html>
